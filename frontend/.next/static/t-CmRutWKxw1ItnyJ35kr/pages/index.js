(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"/h46":function(e,t,n){n("cHUd")("Map")},"5pKv":function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},CpBc:function(e,t,n){var r=n("Y7ZC"),i=n("EP9H");r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},EP9H:function(e,t,n){var r=n("5T2Y").parseFloat,i=n("oc46").trim;e.exports=1/r(n("5pKv")+"-0")!==-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},LX0d:function(e,t,n){e.exports=n("UDep")},RNiq:function(e,t,n){"use strict";n.r(t);var r=n("Wa2I"),i=n.n(r),a=n("q1tI"),o=n.n(a),u=n("0iUn"),c=n("sLSF"),s=n("MI3g"),p=n("a7VT"),l=n("Tit0"),f=n("rt45"),d=n("4KRT"),h=n("lTCR"),g=n.n(h),m=n("vOnD"),v=n("YFqc"),b=n.n(v),y=n("2y/O"),w=m.b.h3.withConfig({displayName:"Title",componentId:"vakcmw-0"})(["margin:0 1rem;text-align:center;transform:skew(-5deg) rotate(-1deg);margin-top:-3rem;text-shadow:2px 2px 0 rgba(0,0,0,0.1);a{background:",";display:inline;line-height:1.3;font-size:4rem;text-align:center;color:white;padding:0 1rem;}"],(function(e){return e.theme.red})),x=m.b.div.withConfig({displayName:"ItemStyles__Item",componentId:"sc-1nqog64-0"})(["background:white;border:1px solid ",";box-shadow:",";position:relative;display:flex;flex-direction:column;img{width:100%;height:400px;object-fit:cover;}p{font-size:12px;line-height:2;font-weight:300;flex-grow:1;padding:0 3rem;font-size:1.5rem;}.buttonList{display:grid;width:100%;border-top:1px solid ",";grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-gap:1px;background:",";& > *{background:white;border:0;font-size:1rem;padding:1rem;}}"],(function(e){return e.theme.offWhite}),(function(e){return e.theme.bs}),(function(e){return e.theme.lightgrey}),(function(e){return e.theme.lightgrey})),O=m.b.span.withConfig({displayName:"PriceTag",componentId:"sc-1ygjb02-0"})(["background:",";transform:rotate(3deg);color:white;font-weight:600;padding:5px;line-height:1;font-size:3rem;display:inline-block;position:absolute;top:-3px;right:-3px;"],(function(e){return e.theme.red})),k=n("AT/M"),I=n("vYYK"),j=o.a.createElement;function C(){var e=Object(f.a)(["\n  mutation DELETE_ITEM_MUTATION($id: ID!) {\n    deleteItem(id: $id) {\n      id\n    }\n  }\n"]);return C=function(){return e},e}var E=g()(C()),T=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i))),Object(I.a)(Object(k.a)(n),"update",(function(e,t){var n=e.readQuery({query:$});console.log(n,t),n.items=n.items.filter((function(e){return e.id!==t.data.deleteItem.id})),e.writeQuery({query:$,data:n})})),n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return j(d.Mutation,{mutation:E,variables:{id:this.props.id},update:this.update},(function(t,n){n.error;return j("button",{onClick:function(){confirm("Are you sure you want to delete this item?")&&t().catch((function(e){alert(e.message)}))}},e.props.children)}))}}]),t}(a.Component),q=n("VliS"),N=o.a.createElement;function M(){var e=Object(f.a)(["\n  mutation addToCart($id: ID!) {\n    addToCart(id: $id) {\n      id\n      quantity\n    }\n  }\n"]);return M=function(){return e},e}var _=g()(M()),L=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.id;return N(d.Mutation,{mutation:_,variables:{id:e},refetchQueries:[{query:q.a}]},(function(e,t){var n=t.loading;return N("button",{disabled:n,onClick:e},"Add",n&&"ing"," To Cart \ud83d\uded2")}))}}]),t}(o.a.Component),U=o.a.createElement,P=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.item;return U(x,null,e.image&&U("img",{src:e.image,alt:e.title}),U(w,null,U(b.a,{href:{pathname:"/item",query:{id:e.id}}},U("a",null,e.title))),U(O,null,Object(y.a)(e.price)),U("p",null,e.description),U("div",{className:"buttonList"},U(b.a,{href:{pathname:"update",query:{id:e.id}}},U("a",null,"Edit \u270f\ufe0f")),U(L,{id:e.id}),U(T,{id:e.id},"Delete This Item")))}}]),t}(a.Component),R=n("8Kt/"),A=n.n(R),D=m.b.div.withConfig({displayName:"PaginationStyles",componentId:"sc-1fmgxj5-0"})(["text-align:center;display:inline-grid;grid-template-columns:repeat(4,auto);align-items:stretch;justify-content:center;align-content:center;margin:2rem 0;border:1px solid ",";border-radius:10px;& > *{margin:0;padding:15px 30px;border-right:1px solid ",";&:last-child{border-right:0;}}a[aria-disabled='true']{color:grey;pointer-events:none;}"],(function(e){return e.theme.lightgrey}),(function(e){return e.theme.lightgrey})),K=n("obyI"),S=o.a.createElement;function W(){var e=Object(f.a)(["\n  query PAGINATION_QUERY {\n    itemsConnection {\n      aggregate {\n        count\n      }\n    }\n  }\n"]);return W=function(){return e},e}var F=g()(W()),Y=function(e){return S(d.Query,{query:F},(function(t){var n=t.data,r=t.loading;t.error;if(r)return S("p",null,"Loading...");var i=n.itemsConnection.aggregate.count,a=Math.ceil(i/K.a),o=e.page;return S(D,null,S(A.a,null,S("title",null,"Style Case! \u2014 Page ",o," of ",a)),S(b.a,{prefetch:!0,href:{pathname:"items",query:{page:o-1}}},S("a",{className:"prev","aria-disabled":o<=1},"\u2190 Prev")),S("p",null,"Page ",e.page," of ",a,"!"),S("p",null,i," Items Total"),S(b.a,{prefetch:!0,href:{pathname:"items",query:{page:o+1}}},S("a",{className:"prev","aria-disabled":o>=a},"Next \u2192")))}))},H=o.a.createElement;function Q(){var e=Object(f.a)(["\n  query ALL_ITEMS_QUERY($skip: Int = 0, $first: Int = ",") {\n    items(first: $first, skip: $skip, orderBy: createdAt_DESC) {\n      id\n      title\n      price\n      description\n      image\n      largeImage\n    }\n  }\n"]);return Q=function(){return e},e}var $=g()(Q(),K.a),z=m.b.div.withConfig({displayName:"Items__Center",componentId:"sc-1cmimuc-0"})(["text-align:center;"]),J=m.b.div.withConfig({displayName:"Items__ItemsList",componentId:"sc-1cmimuc-1"})(["display:grid;grid-template-columns:1fr 1fr;grid-gap:60px;max-width:",";margin:0 auto;"],(function(e){return e.theme.maxWidth})),X=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return H(z,null,H(Y,{page:this.props.page}),H(d.Query,{query:$,variables:{skip:this.props.page*K.a-K.a}},(function(e){var t=e.data,n=e.error;return e.loading?H("p",null,"Loading..."):n?H("p",null,"Error: ",n.message):H(J,null,t.items.map((function(e){return H(P,{item:e,key:e.id})})))})),H(Y,{page:this.props.page}))}}]),t}(a.Component),V=o.a.createElement;t.default=function(e){return V("div",null,V(X,{page:i()(e.query.page)||1}))}},UDep:function(e,t,n){n("wgeU"),n("FlQf"),n("bBy9"),n("g33z"),n("XLbu"),n("/h46"),n("dVTT"),e.exports=n("WEpk").Map},Wa2I:function(e,t,n){e.exports=n("e+cT")},XLbu:function(e,t,n){var r=n("Y7ZC");r(r.P+r.R,"Map",{toJSON:n("8iia")("Map")})},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var r=n("/HRN"),i=n("WaGi"),a=n("ZDA2"),o=n("/+P4"),u=n("N9n2"),c=n("5Uuq"),s=n("KI45");t.__esModule=!0,t.default=void 0;var p,l=s(n("LX0d")),f=n("QmWs"),d=c(n("q1tI")),h=(s(n("17x9")),s(n("nOHt"))),g=(n("P5f7"),n("g/15"));function m(e){return e&&"object"===typeof e?(0,g.formatWithValidation)(e):e}var v=new l.default,b=window.IntersectionObserver;function y(){return p||(b?p=new b((function(e){e.forEach((function(e){if(v.has(e.target)){var t=v.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(p.unobserve(e.target),v.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0)}var w=function(e){function t(e){var n;return r(this,t),(n=a(this,o(t).call(this,e))).p=void 0,n.cleanUpListeners=function(){},n.formatUrls=function(e){var t=null,n=null,r=null;return function(i,a){if(r&&i===t&&a===n)return r;var o=e(i,a);return t=i,n=a,r=o,o}}((function(e,t){return{href:m(e),as:t?m(t):t}})),n.linkClicked=function(e){var t=e.currentTarget,r=t.nodeName,i=t.target;if("A"!==r||!(i&&"_self"!==i||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var a=n.formatUrls(n.props.href,n.props.as),o=a.href,u=a.as;if(function(e){var t=(0,f.parse)(e,!1,!0),n=(0,f.parse)((0,g.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(o)){var c=window.location.pathname;o=(0,f.resolve)(c,o),u=u?(0,f.resolve)(c,u):o,e.preventDefault();var s=n.props.scroll;null==s&&(s=u.indexOf("#")<0),h.default[n.props.replace?"replace":"push"](o,u,{shallow:n.props.shallow}).then((function(e){e&&s&&(window.scrollTo(0,0),document.body.focus())}))}}},n.p=!1!==e.prefetch,n}return u(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getHref",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as).href;return(0,f.resolve)(e,t)}},{key:"handleRef",value:function(e){var t=this,n=h.default.router.pageLoader.prefetched[this.getHref()];this.p&&b&&e&&e.tagName&&(this.cleanUpListeners(),n||(this.cleanUpListeners=function(e,t){var n=y();return n?(n.observe(e),v.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}v.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:"prefetch",value:function(){this.p&&h.default.prefetch(this.getHref())}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,i=n.as;"string"===typeof t&&(t=d.default.createElement("a",null,t));var a=d.Children.only(t),o={ref:function(t){e.handleRef(t),a&&"object"===typeof a&&a.ref&&("function"===typeof a.ref?a.ref(t):"object"===typeof a.ref&&(a.ref.current=t))},onMouseEnter:function(t){a.props&&"function"===typeof a.props.onMouseEnter&&a.props.onMouseEnter(t),e.prefetch()},onClick:function(t){a.props&&"function"===typeof a.props.onClick&&a.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&("a"!==a.type||"href"in a.props)||(o.href=i||r),d.default.cloneElement(a,o)}}]),t}(d.Component);w.propTypes=void 0;var x=w;t.default=x},dVTT:function(e,t,n){n("aPfg")("Map")},"e+cT":function(e,t,n){n("CpBc"),e.exports=n("WEpk").parseFloat},g33z:function(e,t,n){"use strict";var r=n("Wu5q"),i=n("n3ko");e.exports=n("raTm")("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},obyI:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r="https://stylecase-yoga-prod.herokuapp.com/",i=4},oc46:function(e,t,n){var r=n("Y7ZC"),i=n("Jes0"),a=n("KUxP"),o=n("5pKv"),u="["+o+"]",c=RegExp("^"+u+u+"*"),s=RegExp(u+u+"*$"),p=function(e,t,n){var i={},u=a((function(){return!!o[e]()||"\u200b\x85"!="\u200b\x85"[e]()})),c=i[e]=u?t(l):o[e];n&&(i[n]=c),r(r.P+r.F*u,"String",i)},l=p.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(s,"")),e};e.exports=p},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",1,0]]]);