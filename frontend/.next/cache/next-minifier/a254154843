{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{\"1kfB\":function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/permissions\",function(){return t(\"xo/1\")}])},\"5c+8\":function(n,e,t){\"use strict\";var r=t(\"q1tI\"),a=t.n(r),i=t(\"4KRT\"),o=t(\"VliS\"),s=t(\"km3s\"),u=a.a.createElement;e.a=function(n){return u(i.Query,{query:o.a},(function(e){var t=e.data;return e.loading?u(\"p\",null,\"Loading...\"):t.me?n.children:u(\"div\",null,u(\"p\",null,\"Please Sign In before Continuing\"),u(s.a,null))}))}},b7XM:function(n,e,t){\"use strict\";var r=t(\"vOnD\").b.button.withConfig({displayName:\"StyleButton\",componentId:\"sc-17at0m3-0\"})([\"background:red;color:white;font-weight:500;border:0;border-radius:0;text-transform:uppercase;font-size:2rem;padding:0.8rem 1.5rem;transform:skew(-2deg);display:inline-block;transition:all 0.5s;&[disabled]{opacity:0.5;}\"]);e.a=r},km3s:function(n,e,t){\"use strict\";var r=t(\"ln6h\"),a=t.n(r),i=t(\"0iUn\"),o=t(\"sLSF\"),s=t(\"MI3g\"),u=t(\"a7VT\"),l=t(\"AT/M\"),c=t(\"Tit0\"),d=t(\"vYYK\"),p=t(\"rt45\"),m=t(\"q1tI\"),f=t.n(m),h=t(\"4KRT\"),b=t(\"lTCR\"),v=t.n(b),g=t(\"mzXK\"),w=t(\"VUBQ\"),y=t(\"VliS\"),O=f.a.createElement;function T(){var n=Object(p.a)([\"\\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\\n    signin(email: $email, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);return T=function(){return n},n}var j=v()(T()),I=function(n){function e(){var n,t;Object(i.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Object(s.a)(this,(n=Object(u.a)(e)).call.apply(n,[this].concat(a))),Object(d.a)(Object(l.a)(t),\"state\",{name:\"\",password:\"\",email:\"\"}),Object(d.a)(Object(l.a)(t),\"saveToState\",(function(n){t.setState(Object(d.a)({},n.target.name,n.target.value))})),t}return Object(c.a)(e,n),Object(o.a)(e,[{key:\"render\",value:function(){var n=this;return O(h.Mutation,{mutation:j,variables:this.state,refetchQueries:[{query:y.a}]},(function(e,t){var r=t.error,i=t.loading;return O(g.a,{method:\"post\",onSubmit:function(t){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.next=3,a.a.awrap(e());case 3:n.setState({name:\"\",email:\"\",password:\"\"});case 4:case\"end\":return r.stop()}}))}},O(\"fieldset\",{disabled:i,\"aria-busy\":i},O(\"h2\",null,\"Sign into your account\"),O(w.a,{error:r}),O(\"label\",{htmlFor:\"email\"},\"Email\",O(\"input\",{type:\"email\",name:\"email\",placeholder:\"email\",value:n.state.email,onChange:n.saveToState})),O(\"label\",{htmlFor:\"password\"},\"Password\",O(\"input\",{type:\"password\",name:\"password\",placeholder:\"password\",value:n.state.password,onChange:n.saveToState})),O(\"button\",{type:\"submit\"},\"Sign In!\")))}))}}]),e}(m.Component);e.a=I},\"xo/1\":function(n,e,t){\"use strict\";t.r(e);var r=t(\"q1tI\"),a=t.n(r),i=t(\"5c+8\"),o=t(\"p0XB\"),s=t.n(o);var u=t(\"d04V\"),l=t.n(u),c=t(\"yLu3\"),d=t.n(c);function p(n){return function(n){if(s()(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(d()(Object(n))||\"[object Arguments]\"===Object.prototype.toString.call(n))return l()(n)}(n)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var m=t(\"0iUn\"),f=t(\"sLSF\"),h=t(\"MI3g\"),b=t(\"a7VT\"),v=t(\"AT/M\"),g=t(\"Tit0\"),w=t(\"vYYK\"),y=t(\"rt45\"),O=t(\"4KRT\"),T=t(\"VUBQ\"),j=t(\"lTCR\"),I=t.n(j),S=t(\"vOnD\").b.table.withConfig({displayName:\"Table\",componentId:\"sc-1cf8k6i-0\"})([\"border-spacing:0;width:100%;border:1px solid \",\";thead{font-size:10px;}td,th{border-bottom:1px solid \",\";border-right:1px solid \",\";padding:5px;position:relative;&:last-child{border-right:none;width:150px;button{width:100%;}}label{padding:10px 5px;display:block;}}tr{&:hover{background:\",\";}}\"],(function(n){return n.theme.offWhite}),(function(n){return n.theme.offWhite}),(function(n){return n.theme.offWhite}),(function(n){return n.theme.offWhite})),k=t(\"b7XM\"),E=a.a.createElement;function M(){var n=Object(y.a)([\"\\n  query {\\n    users {\\n      id\\n      name\\n      email\\n      permissions\\n    }\\n  }\\n\"]);return M=function(){return n},n}function x(){var n=Object(y.a)([\"\\n  mutation updatePermissions($permissions: [Permission], $userId: ID!) {\\n    updatePermissions(permissions: $permissions, userId: $userId) {\\n      id\\n      permissions\\n      name\\n      email\\n    }\\n  }\\n\"]);return x=function(){return n},n}var C=[\"ADMIN\",\"USER\",\"ITEMCREATE\",\"ITEMUPDATE\",\"ITEMDELETE\",\"PERMISSIONUPDATE\"],P=I()(x()),A=I()(M()),N=function(n){function e(){var n,t;Object(m.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=Object(h.a)(this,(n=Object(b.a)(e)).call.apply(n,[this].concat(a))),Object(w.a)(Object(v.a)(t),\"state\",{permissions:t.props.user.permissions}),Object(w.a)(Object(v.a)(t),\"handlePermissionChange\",(function(n){var e=n.target,r=p(t.state.permissions);e.checked?r.push(e.value):r=r.filter((function(n){return n!==e.value})),t.setState({permissions:r}),console.log(r)})),t}return Object(g.a)(e,n),Object(f.a)(e,[{key:\"render\",value:function(){var n=this,e=this.props.user;return E(O.Mutation,{mutation:P,variables:{permissions:this.state.permissions,userId:this.props.user.id}},(function(t,r){var i=r.loading,o=r.error;return E(a.a.Fragment,null,o&&E(\"tr\",null,E(\"td\",{colspan:\"10\"},E(T.a,{error:o}))),E(\"tr\",null,E(\"td\",null,e.name),E(\"td\",null,e.email),C.map((function(t){return E(\"td\",{key:t},E(\"label\",{htmlFor:\"\".concat(e.id,\"-permission-\").concat(t)},E(\"input\",{id:\"\".concat(e.id,\"-permission-\").concat(t),type:\"checkbox\",checked:n.state.permissions.includes(t),value:t,onChange:n.handlePermissionChange})))})),E(\"td\",null,E(k.a,{type:\"button\",disabled:i,onClick:t},\"Updat\",i?\"ing\":\"e\"))))}))}}]),e}(a.a.Component),U=function(n){return E(O.Query,{query:A},(function(n){var e=n.data,t=(n.loading,n.error);return E(\"div\",null,E(T.a,{error:t}),E(\"div\",null,E(\"h2\",null,\"Manage Permissions\"),E(S,null,E(\"thead\",null,E(\"tr\",null,E(\"th\",null,\"Name\"),E(\"th\",null,\"Email\"),C.map((function(n){return E(\"th\",{key:n},n)})),E(\"th\",null,\"\\ud83d\\udc47\\ud83c\\udffb\"))),E(\"tbody\",null,e.users.map((function(n){return E(N,{user:n,key:n.id})}))))))}))},D=a.a.createElement;e.default=function(n){return D(\"div\",null,D(i.a,null,D(U,null)))}}},[[\"1kfB\",1,0]]]);"}